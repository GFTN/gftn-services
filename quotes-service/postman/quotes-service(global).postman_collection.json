{
	"info": {
		"_postman_id": "24174d82-802e-4d79-85cd-e0a5fd846033",
		"name": "quotes-service(global)",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "[quote demo] OFI request quote",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "3ecb0d31-6c5e-48c5-9812-fac852708b44",
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"postman.setEnvironmentVariable(\"request_id\", jsonData.request_id)",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{ofi_token}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"warning": "This is a duplicate header and will be overridden by the Authorization header generated by Postman.",
						"key": "Authorization",
						"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOiIxMjM0NTY3ODkwIiwiaWF0IjoxNTE2MjM5MDIyLCJzdWIiOiJ0ZXN0IiwiZG9tYWluIjoiaGsub25lLnBheW1lbnRzLndvcmxkd2lyZS5pbyIsImFjY250IjoiaGsub25lLnBheW1lbnRzLndvcmxkd2lyZS5pbyJ9.E2SrAQ9KdHjdGxlOpbo6IOVVEgZKJ86WGMwBGhjNPtE",
						"type": "text",
						"disabled": true
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"time_expire\": 1644775314,\n  \"limit_max\": 90,\n  \"limit_min\": 20,\n               \"source_asset\": {\n                   \"asset_code\": \"SGDDO\",\n                   \"asset_type\": \"DO\",\n                   \"issuer_id\": \"ie.one.payments.worldwire.io\"\n               },\n               \"target_asset\": {\n                   \"asset_code\": \"THBDO\",\n                   \"asset_type\": \"DO\",\n                   \"issuer_id\": \"hk.one.payments.worldwire.io\"\n  },\n  \"ofi_id\": \"hk.one.payments.worldwire.io\"\n}"
				},
				"url": {
					"raw": "{{base_url}}/requests",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"requests"
					]
				}
			},
			"response": []
		},
		{
			"name": "[quote demo] OFI get quotes",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "c92a9cf5-06ef-4e77-909b-37775e1b8953",
						"exec": [
							"",
							"var jsonData = JSON.parse(responseBody);",
							"postman.setEnvironmentVariable(\"quote_id\", jsonData[0].quote_id)",
							"setTimeout(foo,300)",
							"function foo(){",
							"pm.test(\"quote status update to 1\", function () {",
							"    pm.expect(jsonData.asset_price_quotes[0].quote_status).to.equal(1);",
							"});",
							"    ",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{ofi_token}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{base_url}}/quotes/requests/{{request_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"quotes",
						"requests",
						"{{request_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "[quote demo][cryptoservice] RFI quote response signing",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "61af4148-ef31-4bdc-90b1-57479988b2ff",
						"exec": [
							"",
							"let obj = {",
							"    \"account_name_receive\": \"issuing\",",
							"    \"account_name_send\": \"issuing\",",
							"    \"exchange_rate\": 0.6046602,",
							"    \"limit_max\": 1000,",
							"    \"quote_id\": environment.quote_id,",
							"    \"quote_request\": {",
							"        \"limit_max\": 2000,",
							"        \"limit_min\": 1,",
							"        \"ofi_id\": \"hk.one.payments.worldwire.io\",",
							"        \"source_asset\": {",
							"            \"asset_code\": \"SGDDO\",",
							"            \"asset_type\": \"DO\",",
							"            \"issuer_id\": \"ie.one.payments.worldwire.io\"",
							"        },",
							"        \"target_asset\": {",
							"            \"asset_code\": \"THBDO\",",
							"            \"asset_type\": \"DO\",",
							"            \"issuer_id\": \"hk.one.payments.worldwire.io\"",
							"        },",
							"        \"time_expire\": 1644516034",
							"    },",
							"    \"rfi_id\": \"ie.one.payments.worldwire.io\",",
							"    \"time_expire\": 1644516034,",
							"    \"time_start\": 1544516034",
							"}",
							"",
							"let objJsonStr = JSON.stringify(obj);",
							"let objJsonB64 = Buffer.from(objJsonStr).toString(\"base64\");",
							"postman.setEnvironmentVariable(\"objJsonB64QuoteR\", objJsonB64)",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "8a199bb0-b45e-4c66-9704-a1be8f270832",
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"postman.setEnvironmentVariable(\"signed_payload_RFI\", jsonData.transaction_signed);",
							"pm.globals.set(\"variable_key\", \"variable_value\");"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{rfi_token}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\"account_name\": \"issuing\",\n \"payload\" : \"{{objJsonB64QuoteR}}\"}"
				},
				"url": {
					"raw": "localhost:10099/v1/client/request/sign",
					"host": [
						"localhost"
					],
					"port": "10099",
					"path": [
						"v1",
						"client",
						"request",
						"sign"
					]
				}
			},
			"response": []
		},
		{
			"name": "[quote demo] RFI post quote envelope Base64",
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{rfi_token}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"quote\":  \"{{objJsonB64QuoteR}}\",\n    \"signature\":\"{{signed_payload_RFI}}\"\n    }"
				},
				"url": {
					"raw": "{{base_url}}/quotes/{{quote_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"quotes",
						"{{quote_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "[quote demo] RFI get quotes",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "c1515417-55fc-4909-97de-309a9d31a6df",
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"setTimeout(foo,300)",
							"function foo(){",
							"pm.test(\"quote status update to 2\", function () {",
							"    pm.expect(jsonData.asset_price_quotes[0].quote_status).to.equal(2);",
							"});",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{rfi_token}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{base_url}}/quotes/{{quote_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"quotes",
						"{{quote_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "[quote demo] OFI get quotes",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "c1515417-55fc-4909-97de-309a9d31a6df",
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"setTimeout(foo,300)",
							"function foo(){",
							"pm.test(\"quote status update to 3\", function () {",
							"    pm.expect(jsonData.asset_price_quotes[0].quote_status).to.equal(3);",
							"});",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{ofi_token}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{base_url}}/requests/{{request_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"requests",
						"{{request_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "[quote demo] RFI cancel quote",
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{ofi_token}}",
							"type": "string"
						}
					]
				},
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{base_url}}/quotes/{{quote_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"quotes",
						"{{quote_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "[quote demo] OFI get quotes",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "c1515417-55fc-4909-97de-309a9d31a6df",
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"setTimeout(foo,500)",
							"function foo(){",
							"pm.test(\"quote status update to 99\", function () {",
							"    pm.expect(jsonData.asset_price_quotes[0].quote_status).to.equal(99);",
							"});",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{ofi_token}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{base_url}}/quotes/requests/{{request_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"quotes",
						"requests",
						"{{request_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "[quote demo] OFI get quotes by attributes",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{ofi_token}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n        \"time_expire_rfi\": {\n        \t\"operator\": \"gt\", \n\t\t\t\"threshold\":0\n        },\n\t\t\"status\": {\n\t\t\t\"operator\": \"le\", \n\t\t\t\"threshold\":99\n\t\t\t},\n\t\t\"exchange_rate\": {\n\t\t\t\"operator\": \"lt\", \n\t\t\t\"threshold\":10\n\t\t\t},\n\t\t\"rfi_id\": \"ie.one.payments.worldwire.io\",\n        \"source_asset\": {\n            \"asset_code\": \"SGDDO\",\n            \"issuer_id\": \"ie.one.payments.worldwire.io\",\n            \"asset_type\": \"DO\"\n        },\n        \"target_asset\": {\n            \"asset_code\": \"THBDO\",\n            \"issuer_id\": \"hk.one.payments.worldwire.io\",\n            \"asset_type\": \"DO\"\n        }\n\t}"
				},
				"url": {
					"raw": "{{base_url}}/quotes",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"quotes"
					]
				}
			},
			"response": []
		},
		{
			"name": "[quote demo] RFI Cancel quotes by attributes",
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{rfi_token}}",
							"type": "string"
						}
					]
				},
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\t\"delete_all_quotes\":false,\n        \"time_expire_rfi\": {\n        \t\"operator\": \"gt\", \n\t\t\t\"threshold\":0\n        },\n\t\t\"status\": {\n\t\t\t\"operator\": \"lt\", \n\t\t\t\"threshold\":99\n\t\t\t},\n\t\t\"exchange_rate\": {\n\t\t\t\"operator\": \"lt\", \n\t\t\t\"threshold\":10\n\t\t\t},\n\t\t\"rfi_id\": \"ie.one.payments.worldwire.io\",\n        \"source_asset\": {\n            \"asset_code\": \"SGDDO\",\n            \"issuer_id\": \"ie.one.payments.worldwire.io\",\n            \"asset_type\": \"DO\"\n        },\n        \"target_asset\": {\n            \"asset_code\": \"THBDO\",\n            \"issuer_id\": \"hk.one.payments.worldwire.io\",\n            \"asset_type\": \"DO\"\n        }\n\t}"
				},
				"url": {
					"raw": "{{base_url}}/quotes",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"quotes"
					]
				}
			},
			"response": []
		},
		{
			"name": "[auth demo] OFI request quote",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "3ecb0d31-6c5e-48c5-9812-fac852708b44",
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"postman.setEnvironmentVariable(\"request_id\", jsonData.request_id)",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"warning": "This is a duplicate header and will be overridden by the Authorization header generated by Postman.",
						"key": "Authorization",
						"type": "text",
						"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOiIxMjM0NTY3ODkwIiwiaWF0IjoxNTE2MjM5MDIyLCJzdWIiOiJ0ZXN0IiwiZG9tYWluIjoiaGsub25lLnBheW1lbnRzLndvcmxkd2lyZS5pbyIsImFjY250IjoiaGsub25lLnBheW1lbnRzLndvcmxkd2lyZS5pbyJ9.E2SrAQ9KdHjdGxlOpbo6IOVVEgZKJ86WGMwBGhjNPtE",
						"disabled": true
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"time_expire_ofi\": 1644775314,\n  \"limit_max_ofi\": 90,\n  \"limit_min_ofi\": 20,\n               \"source_asset\": {\n                   \"asset_code\": \"SGDDO\",\n                   \"asset_type\": \"DO\",\n                   \"issuer_id\": \"ie.one.payments.worldwire.io\"\n               },\n               \"target_asset\": {\n                   \"asset_code\": \"THBDO\",\n                   \"asset_type\": \"DO\",\n                   \"issuer_id\": \"hk.one.payments.worldwire.io\"\n  },\n  \"ofi_id\": \"hk.one.payments.worldwire.io\"\n}"
				},
				"url": {
					"raw": "{{base_url}}/requests",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"requests"
					]
				}
			},
			"response": []
		},
		{
			"name": "[exchange demo] OFI request quote",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "3ecb0d31-6c5e-48c5-9812-fac852708b44",
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"postman.setEnvironmentVariable(\"request_id\", jsonData.request_id)",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{ofi_token}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOiIxMjM0NTY3ODkwIiwiaWF0IjoxNTE2MjM5MDIyLCJzdWIiOiJ0ZXN0IiwiZG9tYWluIjoiaGsub25lLnBheW1lbnRzLndvcmxkd2lyZS5pbyIsImFjY250IjoiaGsub25lLnBheW1lbnRzLndvcmxkd2lyZS5pbyJ9.E2SrAQ9KdHjdGxlOpbo6IOVVEgZKJ86WGMwBGhjNPtE",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"time_expire\": 1644775314,\n  \"limit_max\": 90,\n  \"limit_min\": 20,\n               \"source_asset\": {\n                   \"asset_code\": \"SGDDO\",\n                   \"asset_type\": \"DO\",\n                   \"issuer_id\": \"ie.one.payments.worldwire.io\"\n               },\n               \"target_asset\": {\n                   \"asset_code\": \"THBDO\",\n                   \"asset_type\": \"DO\",\n                   \"issuer_id\": \"hk.one.payments.worldwire.io\"\n  },\n  \"ofi_id\": \"hk.one.payments.worldwire.io\"\n}"
				},
				"url": {
					"raw": "{{base_url}}/requests",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"requests"
					]
				}
			},
			"response": []
		},
		{
			"name": "[exchange demo] OFI get quotes",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "c92a9cf5-06ef-4e77-909b-37775e1b8953",
						"exec": [
							"",
							"var jsonData = JSON.parse(responseBody);",
							"postman.setEnvironmentVariable(\"quote_id\", jsonData[0].quote_id)",
							"setTimeout(foo,300)",
							"function foo(){",
							"pm.test(\"quote status update to 1\", function () {",
							"    pm.expect(jsonData.asset_price_quotes[0].quote_status).to.equal(1);",
							"});",
							"    ",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{ofi_token}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{base_url}}/quotes/requests/{{request_id}}?",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"quotes",
						"requests",
						"{{request_id}}"
					],
					"query": [
						{
							"key": "Authorization",
							"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOiIxMjM0NTY3ODkwIiwiaWF0IjoxNTE2MjM5MDIyLCJzdWIiOiJ0ZXN0IiwiZG9tYWluIjoiaGsub25lLnBheW1lbnRzLndvcmxkd2lyZS5pbyIsImFjY250IjoiaGsub25lLnBheW1lbnRzLndvcmxkd2lyZS5pbyJ9.E2SrAQ9KdHjdGxlOpbo6IOVVEgZKJ86WGMwBGhjNPtE",
							"disabled": true
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "[exchange demo][cryptoservice] RFI quote response signing",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "61af4148-ef31-4bdc-90b1-57479988b2ff",
						"exec": [
							"",
							"let obj = {",
							"    \"account_name_receive\": \"issuing\",",
							"    \"account_name_send\": \"issuing\",",
							"    \"exchange_rate\": 0.6046602,",
							"    \"limit_max\": 1000,",
							"    \"quote_id\": environment.quote_id,",
							"    \"quote_request\": {",
							"        \"limit_max\": 2000,",
							"        \"limit_min\": 1,",
							"        \"ofi_id\": \"hk.one.payments.worldwire.io\",",
							"        \"source_asset\": {",
							"            \"asset_code\": \"SGDDO\",",
							"            \"asset_type\": \"DO\",",
							"            \"issuer_id\": \"ie.one.payments.worldwire.io\"",
							"        },",
							"        \"target_asset\": {",
							"            \"asset_code\": \"THBDO\",",
							"            \"asset_type\": \"DO\",",
							"            \"issuer_id\": \"hk.one.payments.worldwire.io\"",
							"        },",
							"        \"time_expire\": 1644516034",
							"    },",
							"    \"rfi_id\": \"ie.one.payments.worldwire.io\",",
							"    \"time_expire\": 1644516034,",
							"    \"time_start\": 1544516034",
							"}",
							"",
							"let objJsonStr = JSON.stringify(obj);",
							"let objJsonB64 = Buffer.from(objJsonStr).toString(\"base64\");",
							"postman.setEnvironmentVariable(\"objJsonB64QuoteR\", objJsonB64)",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "8a199bb0-b45e-4c66-9704-a1be8f270832",
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"postman.setEnvironmentVariable(\"signed_payload_RFI\", jsonData.transaction_signed);",
							"pm.globals.set(\"variable_key\", \"variable_value\");"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{rfi_token}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\"account_name\": \"issuing\",\n \"payload\" : \"{{objJsonB64QuoteR}}\"}"
				},
				"url": {
					"raw": "localhost:10099/v1/client/request/sign",
					"host": [
						"localhost"
					],
					"port": "10099",
					"path": [
						"v1",
						"client",
						"request",
						"sign"
					]
				}
			},
			"response": []
		},
		{
			"name": "[exchange demo] RFI post quote envelope Base64",
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{rfi_token}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"quote\":  \"{{objJsonB64QuoteR}}\",\n    \"signature\":\"{{signed_payload_RFI}}\"\n    }"
				},
				"url": {
					"raw": "{{base_url}}/quotes/{{quote_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"quotes",
						"{{quote_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "[exchange demo] OFI get quotes",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "c92a9cf5-06ef-4e77-909b-37775e1b8953",
						"exec": [
							"",
							"var jsonData = JSON.parse(responseBody);",
							"postman.setEnvironmentVariable(\"quote_id\", jsonData[0].quote_id)",
							"setTimeout(foo,300)",
							"function foo(){",
							"pm.test(\"quote status update to 1\", function () {",
							"    pm.expect(jsonData.asset_price_quotes[0].quote_status).to.equal(1);",
							"});",
							"    ",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{ofi_token}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{base_url}}/quotes/requests/{{request_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"quotes",
						"requests",
						"{{request_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "[exchange demo][cryptoservice] OFI exchange request signing",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "e89cb389-dd9a-40a3-bba1-995efca9933a",
						"exec": [
							"let obj = {",
							"   \"account_name_receive\":\"issuing\",",
							"   \"account_name_send\":\"issuing\",",
							"   \"amount\":1,",
							"   \"quote\":   {",
							"            \"account_name_receive\": \"issuing\",",
							"            \"account_name_send\": \"issuing\",",
							"            \"exchange_rate\": 0.6046602,",
							"            \"limit_max\": 1000,",
							"            \"quote_id\": \"226d3c8f-e7d1-4004-ba18-97f4095c79b7ie.one.payments.worldwire.io\",",
							"            \"quote_request\": {",
							"                \"limit_max\": 2000,",
							"                \"limit_min\": 1,",
							"                \"ofi_id\": \"hk.one.payments.worldwire.io\",",
							"                \"source_asset\": {",
							"                    \"asset_code\": \"SGDDO\",",
							"                    \"asset_type\": \"DO\",",
							"                    \"issuer_id\": \"ie.one.payments.worldwire.io\"",
							"                },",
							"                \"target_asset\": {",
							"                    \"asset_code\": \"THBDO\",",
							"                    \"asset_type\": \"DO\",",
							"                    \"issuer_id\": \"hk.one.payments.worldwire.io\"",
							"                },",
							"                \"time_expire\": 1644516034",
							"            },",
							"            \"rfi_id\": \"ie.one.payments.worldwire.io\",",
							"            \"time_expire\": 1644516034,",
							"            \"time_start\": 1544516034",
							"        },",
							"}",
							"",
							"let objJsonStr = JSON.stringify(obj);",
							"let objJsonB64 = Buffer.from(objJsonStr).toString(\"base64\");",
							"postman.setEnvironmentVariable(\"objJsonB64ExchangeR\", objJsonB64)",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "97025fb4-1ba6-4623-b73c-812a87005ef7",
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"postman.setEnvironmentVariable(\"signed_payload_OFI\", jsonData.transaction_signed);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{ofi_token}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\"account_name\": \"issuing\",\n \"payload\" : \"{{objJsonB64ExchangeR}}\"}"
				},
				"url": {
					"raw": "localhost:9999/v1/client/request/sign",
					"host": [
						"localhost"
					],
					"port": "9999",
					"path": [
						"v1",
						"client",
						"request",
						"sign"
					]
				}
			},
			"response": []
		},
		{
			"name": "[exchange demo] OFI execute exchange request Base64",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "e2dcf8ea-53bd-4d4e-bfd9-18626447f504",
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{ofi_token}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"exchange\":\"{{objJsonB64ExchangeR}}\",\n    \"signature\":\"{{signed_payload_OFI}}\"\n    }"
				},
				"url": {
					"raw": "{{base_url}}/exchange",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"exchange"
					]
				}
			},
			"response": []
		},
		{
			"name": "[exchange demo] OFI get quotes",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "c92a9cf5-06ef-4e77-909b-37775e1b8953",
						"exec": [
							"",
							"var jsonData = JSON.parse(responseBody);",
							"postman.setEnvironmentVariable(\"quote_id\", jsonData[0].quote_id)",
							"setTimeout(foo,300)",
							"function foo(){",
							"pm.test(\"quote status update to 1\", function () {",
							"    pm.expect(jsonData.asset_price_quotes[0].quote_status).to.equal(1);",
							"});",
							"    ",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{ofi_token}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{base_url}}/requests/{{request_id}}?",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"requests",
						"{{request_id}}"
					],
					"query": [
						{
							"key": "Authorization",
							"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOiIxMjM0NTY3ODkwIiwiaWF0IjoxNTE2MjM5MDIyLCJzdWIiOiJ0ZXN0IiwiZG9tYWluIjoiaGsub25lLnBheW1lbnRzLndvcmxkd2lyZS5pbyIsImFjY250IjoiaGsub25lLnBheW1lbnRzLndvcmxkd2lyZS5pbyJ9.E2SrAQ9KdHjdGxlOpbo6IOVVEgZKJ86WGMwBGhjNPtE",
							"disabled": true
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "(obsulete)[exchange demo] RFI post quote envelope",
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyLCJkb21haW4iOiJpZS5vbmUucGF5bWVudHMud29ybGR3aXJlLmlvIiwiYWNjbnQiOiJpc3N1aW5nIn0.CNoH84YBb_BRiiDlaSu78LYUEbaoSiQXTIhRNb-jIjY",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"quote\":   {\n       \"account_name_receive\": \"issuing\",\n       \"account_name_send\": \"issuing\",\n       \"exchange_rate\": 0.6046602,\n       \"limit_max\": 1000,\n       \"quote_id\": \"{{quote_id}}\",\n       \"quote_request\": {\n           \"limit_max\": 2000,\n           \"limit_min\": 1,\n           \"ofi_id\": \"hk.one.payments.worldwire.io\",\n           \"source_asset\": {\n               \"asset_code\": \"SGDDO\",\n               \"asset_type\": \"DO\",\n               \"issuer_id\": \"ie.one.payments.worldwire.io\"\n           },\n           \"target_asset\": {\n               \"asset_code\": \"THBDO\",\n               \"asset_type\": \"DO\",\n               \"issuer_id\": \"hk.one.payments.worldwire.io\"\n           },\n           \"time_expire\": 1644516034\n       },\n       \"reference_hash\": \"ffe36bcc6d0876449759b166399ceba2743bcd12801c07706d998712bffa8de3\",\n       \"rfi_id\": \"ie.one.payments.worldwire.io\",\n       \"time_expire\": 1644516034,\n       \"time_start\": 1544516034\n    },\n    \"signature\":\"{{signed_payload_RFI}}\"\n    }"
				},
				"url": {
					"raw": "{{base_url}}/quote/{{quote_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"quote",
						"{{quote_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "(obsulete)[exchange demo] OFI execute exchange request",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "e2dcf8ea-53bd-4d4e-bfd9-18626447f504",
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOiIxMjM0NTY3ODkwIiwiaWF0IjoxNTE2MjM5MDIyLCJzdWIiOiJ0ZXN0IiwiZG9tYWluIjoiaGsub25lLnBheW1lbnRzLndvcmxkd2lyZS5pbyIsImFjY250IjoiaGsub25lLnBheW1lbnRzLndvcmxkd2lyZS5pbyJ9.E2SrAQ9KdHjdGxlOpbo6IOVVEgZKJ86WGMwBGhjNPtE",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"exchange_request\":{\n        \"amount\": 1,\n        \"account_name_receive\": \"issuing\",\n        \"account_name_send\": \"issuing\",\n        \"quote\":   {\n           \"account_name_receive\": \"issuing\",\n           \"account_name_send\": \"issuing\",\n           \"exchange_rate\": 0.6046602,\n           \"limit_max\": 1000,\n           \"quote_id\": \"{{quote_id}}\",\n           \"quote_request\": {\n               \"limit_max\": 2000,\n               \"limit_min\": 1,\n               \"ofi_id\": \"hk.one.payments.worldwire.io\",\n               \"source_asset\": {\n                   \"asset_code\": \"SGDDO\",\n                   \"asset_type\": \"DO\",\n                   \"issuer_id\": \"ie.one.payments.worldwire.io\"\n               },\n               \"target_asset\": {\n                   \"asset_code\": \"THBDO\",\n                   \"asset_type\": \"DO\",\n                   \"issuer_id\": \"hk.one.payments.worldwire.io\"\n               },\n           \"time_expire\": 1644516034\n       },\n       \"reference_hash\": \"ffe36bcc6d0876449759b166399ceba2743bcd12801c07706d998712bffa8de3\",\n       \"rfi_id\": \"ie.one.payments.worldwire.io\",\n       \"time_expire\": 1644516034,\n       \"time_start\": 1544516034\n       }\n    },\n    \"signature\":\"{{signed_payload_OFI}}\"\n    }"
				},
				"url": {
					"raw": "{{base_url}}/exchange",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"exchange"
					]
				}
			},
			"response": []
		},
		{
			"name": "[obsulete][quote demo] RFI post quote envelope",
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyLCJkb21haW4iOiJpZS5vbmUucGF5bWVudHMud29ybGR3aXJlLmlvIiwiYWNjbnQiOiJpc3N1aW5nIn0.CNoH84YBb_BRiiDlaSu78LYUEbaoSiQXTIhRNb-jIjY",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"quote\":   {\n       \"account_name_receive\": \"issuing\",\n       \"account_name_send\": \"issuing\",\n       \"exchange_rate\": 0.6046602,\n       \"limit_max\": 1000,\n       \"quote_id\": \"{{quote_id}}\",\n       \"quote_request\": {\n           \"limit_max\": 2000,\n           \"limit_min\": 1,\n           \"ofi_id\": \"hk.one.payments.worldwire.io\",\n           \"source_asset\": {\n               \"asset_code\": \"SGDDO\",\n               \"asset_type\": \"DO\",\n               \"issuer_id\": \"ie.one.payments.worldwire.io\"\n           },\n           \"target_asset\": {\n               \"asset_code\": \"THBDO\",\n               \"asset_type\": \"DO\",\n               \"issuer_id\": \"hk.one.payments.worldwire.io\"\n           },\n           \"time_expire\": 1644516034\n       },\n       \"reference_hash\": \"ffe36bcc6d0876449759b166399ceba2743bcd12801c07706d998712bffa8de3\",\n       \"rfi_id\": \"ie.one.payments.worldwire.io\",\n       \"time_expire\": 1644516034,\n       \"time_start\": 1544516034\n    },\n    \"signature\":\"signature\"\n    }"
				},
				"url": {
					"raw": "{{base_url}}/quote/{{quote_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"quote",
						"{{quote_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "RFI post quote(obsulete)",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"time_start_rfi\" : 1544516034,\n  \"time_expire_rfi\": 1644516034,\n  \"limit_max_ofi\": 90,\n  \"limit_min_ofi\": 20,\n\t\"source_asset\": {\n\t   \"asset_code\": \"SGDDO\",\n\t   \"asset_type\": \"DO\",\n\t   \"issuer_id\": \"ie.one.payments.worldwire.io\"\n\t},\n\t\"target_asset\": {\n\t   \"asset_code\": \"THBDO\",\n\t   \"asset_type\": \"DO\",\n\t   \"issuer_id\": \"hk.one.payments.worldwire.io\"},\n  \"ofi_id\": \"hk.one.payments.worldwire.io\",\n  \"rfi_id\": \"ie.one.payments.worldwire.io\",\n  \"exchange_rate\": 1.51,\n  \"quote_id\": \"dummyquoteID\",\n  \"address_send_rfi\" :  \"address_send_rfi\",\n  \"address_receive_rfi\" : \"address_receive_rfi\"\n}"
				},
				"url": {
					"raw": "{{base_url}}/quote/{{quote_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"quote",
						"{{quote_id}}"
					]
				}
			},
			"response": []
		}
	]
}